(()=>{"use strict";class e{constructor(e){this.item=document.querySelector(e)}offset(e){const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i}}animOnScroll(){const e=this.item.offsetHeight,t=this.offset(this.item).top;let i=window.innerHeight-e/6;e>window.innerHeight&&(i=window.innerHeight-window.innerHeight/6),pageYOffset>t-i&&pageYOffset<t+e&&(this.item.style.offset=1,this.item.classList.add("animate__animated","animate__fadeInUp"))}init(){this.animOnScroll(),window.addEventListener("scroll",(()=>{this.animOnScroll()}))}}(()=>{const e=document.querySelector("#nav"),t=document.querySelector("#menu"),i=document.querySelector(".nav__toggle");let s=!1;i.addEventListener("click",(n=>{n.preventDefault(),s=!s,i.setAttribute("aria-expanded",String(s)),t.hidden=!s,e.classList.toggle("nav--open")})),e.addEventListener("keydown",(e=>{if(!s||e.ctrlKey||e.metaKey||e.altKey)return;const n=t.querySelectorAll(".nav__link");9===e.keyCode&&(e.shiftKey?document.activeElement===n[0]&&(i.focus(),e.preventDefault()):document.activeElement===i&&(n[0].focus(),e.preventDefault()))}))})();class t{constructor(e){this.menuLink=document.querySelectorAll(e)}activeMenu(){this.menuLink.forEach((e=>{e.href===location.href&&e.classList.add("active")}))}menuHover(){this.menuLink.forEach((e=>{e.onmouseenter=e.onmouseleave=t=>{const i=e.clientWidth;let s=t.pageX-e.offsetLeft;s-10<0&&(s=0),s+10>i&&(s=i),e.style.setProperty("--x",`${s}px`)}}))}init(){this.menuHover(),this.activeMenu()}}class i{constructor({element:e,tiltEffect:t}){try{this.element=document.querySelector(e),this.item=this.element.querySelector(".grid__item")}catch(e){}this.size=[300,360],[this.w,this.h]=this.size,this.tiltEffect=t,this.mouseOnComponent=!1,this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.defaultStates=this.defaultStates.bind(this),this.setProperty=this.setProperty.bind(this),this.init=this.init.bind(this),this.init()}handleMouseMove(e){const{offsetX:t,offsetY:i}=e;let s,n;"reverse"===this.tiltEffect?(s=(t-this.w/2)/3/3,n=-(i-this.h/2)/3/3):"normal"===this.tiltEffect&&(s=-(t-this.w/2)/3/3,n=(i-this.h/2)/3/3),this.setProperty("--rY",s.toFixed(2)),this.setProperty("--rX",n.toFixed(2)),this.setProperty("--bY",80-(s/4).toFixed(2)+"%"),this.setProperty("--bX",50-(n/4).toFixed(2)+"%")}handleMouseEnter(){this.mouseOnComponent=!0,this.item.classList.add("gridActive")}handleMouseLeave(){this.mouseOnComponent=!1,this.defaultStates()}defaultStates(){this.item.classList.remove("gridActive"),this.setProperty("--rY",0),this.setProperty("--rX",0),this.setProperty("--bY","80%"),this.setProperty("--bX","50%")}setProperty(e,t){return this.item.style.setProperty(e,t)}init(){try{screen.width>577&&(this.element.addEventListener("mousemove",this.handleMouseMove),this.element.addEventListener("mouseenter",this.handleMouseEnter),this.element.addEventListener("mouseleave",this.handleMouseLeave))}catch(e){}}}class s{constructor(e){try{this.trailer=document.getElementById(e)}catch(e){}}animateTrailer(e,t){try{const i={transform:`translate(${e.clientX-this.trailer.offsetWidth/2}px, ${e.clientY-this.trailer.offsetHeight/2}px) scale(${t?4:1})`};this.trailer.animate(i,{duration:800,fill:"forwards"})}catch(e){}}init(){screen.width>1200&&(window.onmousemove=e=>{const t=null!==e.target.closest(".interactable");this.animateTrailer(e,t)})}}class n{constructor(e,t){try{this.triggers=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close")}catch(e){}}bindTriggers(){this.triggers.forEach((e=>{e.addEventListener("click",(()=>{document.body.style.overflow="hidden",document.querySelector("iframe#frame")?(this.overlay.style.display="flex",this.path!==e.getAttribute("data-url")&&(this.path=e.getAttribute("data-url"),this.player.loadVideoById({videoId:this.path}))):(this.path=e.getAttribute("data-url"),this.createPlayer(this.path))}))}))}bindClose(){this.close.addEventListener("click",(()=>{document.body.style.overflow="",this.overlay.style.display="none",this.player.stopVideo()})),this.overlay.addEventListener("click",(()=>{document.body.style.overflow="",this.overlay.style.display="none",this.player.stopVideo()}))}createPlayer(e){this.player=new YT.Player("frame",{height:"100%",width:"100%",videoId:`${e}`}),this.overlay.style.display="flex"}init(){if(this.triggers.length>0)try{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.bindTriggers(),this.bindClose()}catch(e){}}}window.addEventListener("DOMContentLoaded",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),new t(".menu__link").init(),new s("trailer").init(),new n(".videos__wrapper-item",".overlay").init(),new n(".grid__item",".overlay").init(),new e(".contacts").init(),document.querySelector(".pulse-button").addEventListener("click",(()=>{open("https://wa.me/77475060993")})),new i({element:".grid__wrapper-1",tiltEffect:"reverse"}),new i({element:".grid__wrapper-2",tiltEffect:"normal"}),new i({element:".grid__wrapper-3",tiltEffect:"reverse"}),new i({element:".grid__wrapper-4",tiltEffect:"normal"}),new i({element:".grid__wrapper-5",tiltEffect:"reverse"}),new i({element:".grid__wrapper-6",tiltEffect:"normal"}),new i({element:".grid__wrapper-7",tiltEffect:"reverse"}),new i({element:".grid__wrapper-8",tiltEffect:"normal"}),new i({element:".grid__wrapper-9",tiltEffect:"reverse"})}))})();